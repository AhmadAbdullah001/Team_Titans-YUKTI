{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ahmad\\\\OneDrive\\\\Desktop\\\\evault\\\\frontend\\\\src\\\\pages\\\\ApprovalDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport WalletStatus from \"../components/WalletStatus.js\";\nimport { approveProperty, getProperty } from \"../utils/evault.js\";\nimport PropertyStatusBadge from \"../components/PropertyStatusBadge.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ApprovalDashboard() {\n  _s();\n  const [propertyId, setPropertyId] = useState(\"\");\n  const [property, setProperty] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const loadProperty = async () => {\n    try {\n      if (!propertyId) return;\n      setLoading(true);\n      const data = await getProperty(Number(propertyId));\n      setProperty(data);\n      setMessage(\"\");\n    } catch (error) {\n      setProperty(null);\n      setMessage(error.message || \"Failed to read property.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleApprove = async roleName => {\n    try {\n      if (!propertyId) {\n        setMessage(\"Enter property ID.\");\n        return;\n      }\n      setLoading(true);\n      const txHash = await approveProperty(Number(propertyId));\n      await loadProperty();\n      setMessage(`${roleName} approval submitted. Tx: ${txHash}`);\n    } catch (error) {\n      setMessage(error.message || \"Approval failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-grid\",\n    children: [/*#__PURE__*/_jsxDEV(WalletStatus, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Approval Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Use role wallet (registrar, notary, local authority) to approve once each.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        min: \"1\",\n        placeholder: \"Property ID\",\n        value: propertyId,\n        onChange: e => setPropertyId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadProperty,\n          disabled: loading,\n          children: \"Refresh Property\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleApprove(\"Registrar\"),\n          disabled: loading,\n          children: \"Registrar Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleApprove(\"Notary\"),\n          disabled: loading,\n          children: \"Notary Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleApprove(\"Authority\"),\n          disabled: loading,\n          children: \"Authority Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), property ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"ID: \", property.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", /*#__PURE__*/_jsxDEV(PropertyStatusBadge, {\n            status: property.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Approval Count: \", property.approvalCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Registrar Approved: \", property.registrarApproved ? \"Yes\" : \"No\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Notary Approved: \", property.notaryApproved ? \"Yes\" : \"No\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Authority Approved: \", property.authorityApproved ? \"Yes\" : \"No\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : null, message ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(ApprovalDashboard, \"T390DZuKqxysWF1liejWenV0U8E=\");\n_c = ApprovalDashboard;\nexport default ApprovalDashboard;\nvar _c;\n$RefreshReg$(_c, \"ApprovalDashboard\");","map":{"version":3,"names":["React","useState","WalletStatus","approveProperty","getProperty","PropertyStatusBadge","jsxDEV","_jsxDEV","ApprovalDashboard","_s","propertyId","setPropertyId","property","setProperty","message","setMessage","loading","setLoading","loadProperty","data","Number","error","handleApprove","roleName","txHash","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","min","placeholder","value","onChange","e","target","onClick","disabled","id","status","approvalCount","registrarApproved","notaryApproved","authorityApproved","_c","$RefreshReg$"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/pages/ApprovalDashboard.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport WalletStatus from \"../components/WalletStatus.js\";\nimport { approveProperty, getProperty } from \"../utils/evault.js\";\nimport PropertyStatusBadge from \"../components/PropertyStatusBadge.js\";\n\nfunction ApprovalDashboard() {\n  const [propertyId, setPropertyId] = useState(\"\");\n  const [property, setProperty] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const loadProperty = async () => {\n    try {\n      if (!propertyId) return;\n      setLoading(true);\n      const data = await getProperty(Number(propertyId));\n      setProperty(data);\n      setMessage(\"\");\n    } catch (error) {\n      setProperty(null);\n      setMessage(error.message || \"Failed to read property.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleApprove = async (roleName) => {\n    try {\n      if (!propertyId) {\n        setMessage(\"Enter property ID.\");\n        return;\n      }\n      setLoading(true);\n      const txHash = await approveProperty(Number(propertyId));\n      await loadProperty();\n      setMessage(`${roleName} approval submitted. Tx: ${txHash}`);\n    } catch (error) {\n      setMessage(error.message || \"Approval failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"page-grid\">\n      <WalletStatus />\n      <section className=\"card\">\n        <h2>Approval Dashboard</h2>\n        <p>Use role wallet (registrar, notary, local authority) to approve once each.</p>\n        <input\n          type=\"number\"\n          min=\"1\"\n          placeholder=\"Property ID\"\n          value={propertyId}\n          onChange={(e) => setPropertyId(e.target.value)}\n        />\n        <div className=\"button-row\">\n          <button onClick={loadProperty} disabled={loading}>\n            Refresh Property\n          </button>\n          <button onClick={() => handleApprove(\"Registrar\")} disabled={loading}>\n            Registrar Approve\n          </button>\n          <button onClick={() => handleApprove(\"Notary\")} disabled={loading}>\n            Notary Approve\n          </button>\n          <button onClick={() => handleApprove(\"Authority\")} disabled={loading}>\n            Authority Approve\n          </button>\n        </div>\n        {property ? (\n          <div className=\"panel\">\n            <p>ID: {property.id}</p>\n            <p>\n              Status: <PropertyStatusBadge status={property.status} />\n            </p>\n            <p>Approval Count: {property.approvalCount}</p>\n            <p>Registrar Approved: {property.registrarApproved ? \"Yes\" : \"No\"}</p>\n            <p>Notary Approved: {property.notaryApproved ? \"Yes\" : \"No\"}</p>\n            <p>Authority Approved: {property.authorityApproved ? \"Yes\" : \"No\"}</p>\n          </div>\n        ) : null}\n        {message ? <p className=\"message\">{message}</p> : null}\n      </section>\n    </div>\n  );\n}\n\nexport default ApprovalDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}