{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{getPropertyOwnerOnChain,verifyPropertyOnChain}from\"../contract/propertyActions.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BankDashboard(){const navigate=useNavigate();const[hash,setHash]=useState(\"\");const[verified,setVerified]=useState(null);const[owner,setOwner]=useState(\"\");const[loading,setLoading]=useState(false);const[message,setMessage]=useState(\"\");const logout=()=>{localStorage.removeItem(\"user\");localStorage.removeItem(\"role\");navigate(\"/login\",{replace:true});};const verify=async()=>{if(!hash.trim()){setMessage(\"Enter property hash first.\");return;}setLoading(true);setMessage(\"\");try{const[isVerified,ownerAddress]=await Promise.all([verifyPropertyOnChain(hash.trim()),getPropertyOwnerOnChain(hash.trim())]);setVerified(Boolean(isVerified));setOwner(ownerAddress);}catch(error){setVerified(null);setOwner(\"\");setMessage((error===null||error===void 0?void 0:error.message)||\"Failed to verify property\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-100 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-4xl space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-xl bg-white p-6 shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-slate-800\",children:\"Bank Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Verify property hash and owner from blockchain.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"rounded-xl bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-xl hover:bg-rose-700\",children:\"Logout\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-white p-6 shadow-xl transition hover:shadow-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-slate-800\",children:\"Verification Card\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex flex-col gap-3 sm:flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{value:hash,onChange:e=>setHash(e.target.value),placeholder:\"Enter property hash\",className:\"w-full rounded-xl border border-slate-300 px-4 py-3 text-sm outline-none focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:verify,disabled:loading,className:\"rounded-xl px-5 py-3 text-sm font-semibold text-white shadow-xl \".concat(loading?\"cursor-not-allowed bg-slate-400\":\"bg-indigo-600 hover:bg-indigo-700\"),children:loading?\"Verifying...\":\"Verify\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-sm text-rose-700\",children:message}),verified!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-700\",children:[\"Verification:\",\" \",/*#__PURE__*/_jsx(\"strong\",{className:verified?\"text-emerald-700\":\"text-rose-700\",children:verified?\"Verified\":\"Not Verified\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 break-all font-mono text-xs text-slate-700\",children:[\"Owner: \",owner||\"-\"]})]})]})]})});}export default BankDashboard;","map":{"version":3,"names":["React","useState","useNavigate","getPropertyOwnerOnChain","verifyPropertyOnChain","jsx","_jsx","jsxs","_jsxs","BankDashboard","navigate","hash","setHash","verified","setVerified","owner","setOwner","loading","setLoading","message","setMessage","logout","localStorage","removeItem","replace","verify","trim","isVerified","ownerAddress","Promise","all","Boolean","error","className","children","onClick","value","onChange","e","target","placeholder","disabled","concat"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/pages/BankDashboard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getPropertyOwnerOnChain, verifyPropertyOnChain } from \"../contract/propertyActions.js\";\n\nfunction BankDashboard() {\n  const navigate = useNavigate();\n  const [hash, setHash] = useState(\"\");\n  const [verified, setVerified] = useState(null);\n  const [owner, setOwner] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"role\");\n    navigate(\"/login\", { replace: true });\n  };\n\n  const verify = async () => {\n    if (!hash.trim()) {\n      setMessage(\"Enter property hash first.\");\n      return;\n    }\n\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      const [isVerified, ownerAddress] = await Promise.all([\n        verifyPropertyOnChain(hash.trim()),\n        getPropertyOwnerOnChain(hash.trim()),\n      ]);\n\n      setVerified(Boolean(isVerified));\n      setOwner(ownerAddress);\n    } catch (error) {\n      setVerified(null);\n      setOwner(\"\");\n      setMessage(error?.message || \"Failed to verify property\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-100 p-4\">\n      <div className=\"mx-auto max-w-4xl space-y-6\">\n        <div className=\"rounded-xl bg-white p-6 shadow-xl\">\n          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-slate-800\">Bank Dashboard</h1>\n              <p className=\"text-sm text-slate-500\">Verify property hash and owner from blockchain.</p>\n            </div>\n            <button\n              onClick={logout}\n              className=\"rounded-xl bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-xl hover:bg-rose-700\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n\n        <div className=\"rounded-xl bg-white p-6 shadow-xl transition hover:shadow-2xl\">\n          <h2 className=\"text-lg font-semibold text-slate-800\">Verification Card</h2>\n          <div className=\"mt-4 flex flex-col gap-3 sm:flex-row\">\n            <input\n              value={hash}\n              onChange={(e) => setHash(e.target.value)}\n              placeholder=\"Enter property hash\"\n              className=\"w-full rounded-xl border border-slate-300 px-4 py-3 text-sm outline-none focus:border-blue-500\"\n            />\n            <button\n              onClick={verify}\n              disabled={loading}\n              className={`rounded-xl px-5 py-3 text-sm font-semibold text-white shadow-xl ${\n                loading ? \"cursor-not-allowed bg-slate-400\" : \"bg-indigo-600 hover:bg-indigo-700\"\n              }`}\n            >\n              {loading ? \"Verifying...\" : \"Verify\"}\n            </button>\n          </div>\n\n          {message && <p className=\"mt-3 text-sm text-rose-700\">{message}</p>}\n\n          {verified !== null && (\n            <div className=\"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4\">\n              <p className=\"text-sm text-slate-700\">\n                Verification:{\" \"}\n                <strong className={verified ? \"text-emerald-700\" : \"text-rose-700\"}>\n                  {verified ? \"Verified\" : \"Not Verified\"}\n                </strong>\n              </p>\n              <p className=\"mt-2 break-all font-mono text-xs text-slate-700\">Owner: {owner || \"-\"}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BankDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}