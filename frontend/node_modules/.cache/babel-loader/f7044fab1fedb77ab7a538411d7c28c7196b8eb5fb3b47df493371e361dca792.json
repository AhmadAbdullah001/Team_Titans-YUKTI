{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ahmad\\\\OneDrive\\\\Desktop\\\\evault\\\\frontend\\\\src\\\\pages\\\\OwnershipTimeline.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport WalletStatus from \"../components/WalletStatus.js\";\nimport { getOwnershipHistory } from \"../utils/evault.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OwnershipTimeline() {\n  _s();\n  const [propertyId, setPropertyId] = useState(\"\");\n  const [records, setRecords] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleLoadHistory = async () => {\n    try {\n      if (!propertyId) {\n        setMessage(\"Enter property ID.\");\n        return;\n      }\n      setLoading(true);\n      const history = await getOwnershipHistory(Number(propertyId));\n      setRecords(history);\n      setMessage(\"\");\n    } catch (error) {\n      setRecords([]);\n      setMessage(error.message || \"Failed to load ownership history.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-grid\",\n    children: [/*#__PURE__*/_jsxDEV(WalletStatus, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Ownership Timeline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        min: \"1\",\n        placeholder: \"Property ID\",\n        value: propertyId,\n        onChange: e => setPropertyId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadHistory,\n        disabled: loading,\n        children: loading ? \"Loading...\" : \"Load Timeline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), message ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 20\n      }, this) : null, records.length > 0 ? /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"timeline\",\n        children: records.map((record, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Owner: \", /*#__PURE__*/_jsxDEV(\"code\", {\n              children: record.owner\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Timestamp: \", record.readableTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)]\n        }, `${record.owner}-${record.timestamp}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No records found for this property.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(OwnershipTimeline, \"bIakBZLd0o/zs75zwu2Q7TzPqTM=\");\n_c = OwnershipTimeline;\nexport default OwnershipTimeline;\nvar _c;\n$RefreshReg$(_c, \"OwnershipTimeline\");","map":{"version":3,"names":["React","useState","WalletStatus","getOwnershipHistory","jsxDEV","_jsxDEV","OwnershipTimeline","_s","propertyId","setPropertyId","records","setRecords","message","setMessage","loading","setLoading","handleLoadHistory","history","Number","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","min","placeholder","value","onChange","e","target","onClick","disabled","length","map","record","index","owner","readableTime","timestamp","_c","$RefreshReg$"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/pages/OwnershipTimeline.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport WalletStatus from \"../components/WalletStatus.js\";\nimport { getOwnershipHistory } from \"../utils/evault.js\";\n\nfunction OwnershipTimeline() {\n  const [propertyId, setPropertyId] = useState(\"\");\n  const [records, setRecords] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleLoadHistory = async () => {\n    try {\n      if (!propertyId) {\n        setMessage(\"Enter property ID.\");\n        return;\n      }\n      setLoading(true);\n      const history = await getOwnershipHistory(Number(propertyId));\n      setRecords(history);\n      setMessage(\"\");\n    } catch (error) {\n      setRecords([]);\n      setMessage(error.message || \"Failed to load ownership history.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"page-grid\">\n      <WalletStatus />\n      <section className=\"card\">\n        <h2>Ownership Timeline</h2>\n        <input\n          type=\"number\"\n          min=\"1\"\n          placeholder=\"Property ID\"\n          value={propertyId}\n          onChange={(e) => setPropertyId(e.target.value)}\n        />\n        <button onClick={handleLoadHistory} disabled={loading}>\n          {loading ? \"Loading...\" : \"Load Timeline\"}\n        </button>\n        {message ? <p className=\"message\">{message}</p> : null}\n        {records.length > 0 ? (\n          <ol className=\"timeline\">\n            {records.map((record, index) => (\n              <li key={`${record.owner}-${record.timestamp}-${index}`}>\n                <p>\n                  Owner: <code>{record.owner}</code>\n                </p>\n                <p>Timestamp: {record.readableTime}</p>\n              </li>\n            ))}\n          </ol>\n        ) : (\n          <p>No records found for this property.</p>\n        )}\n      </section>\n    </div>\n  );\n}\n\nexport default OwnershipTimeline;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}