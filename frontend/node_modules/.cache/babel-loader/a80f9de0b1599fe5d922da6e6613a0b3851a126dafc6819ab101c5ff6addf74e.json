{"ast":null,"code":"import { PINATA_JWT } from \"./config.js\";\nexport async function uploadDocumentToIPFS(file) {\n  if (!file) {\n    throw new Error(\"File is required.\");\n  }\n  if (!PINATA_JWT) {\n    throw new Error(\"Set REACT_APP_PINATA_JWT in frontend/.env\");\n  }\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  const response = await fetch(\"https://api.pinata.cloud/pinning/pinFileToIPFS\", {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${PINATA_JWT}`\n    },\n    body: formData\n  });\n  const data = await response.json();\n  if (!response.ok || !(data !== null && data !== void 0 && data.IpfsHash)) {\n    throw new Error((data === null || data === void 0 ? void 0 : data.error) || \"IPFS upload failed.\");\n  }\n  return data.IpfsHash;\n}","map":{"version":3,"names":["PINATA_JWT","uploadDocumentToIPFS","file","Error","formData","FormData","append","response","fetch","method","headers","Authorization","body","data","json","ok","IpfsHash","error"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/utils/ipfs.js"],"sourcesContent":["import { PINATA_JWT } from \"./config.js\";\n\nexport async function uploadDocumentToIPFS(file) {\n  if (!file) {\n    throw new Error(\"File is required.\");\n  }\n  if (!PINATA_JWT) {\n    throw new Error(\"Set REACT_APP_PINATA_JWT in frontend/.env\");\n  }\n\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  const response = await fetch(\"https://api.pinata.cloud/pinning/pinFileToIPFS\", {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${PINATA_JWT}`,\n    },\n    body: formData,\n  });\n\n  const data = await response.json();\n  if (!response.ok || !data?.IpfsHash) {\n    throw new Error(data?.error || \"IPFS upload failed.\");\n  }\n\n  return data.IpfsHash;\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,aAAa;AAExC,OAAO,eAAeC,oBAAoBA,CAACC,IAAI,EAAE;EAC/C,IAAI,CAACA,IAAI,EAAE;IACT,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;EACtC;EACA,IAAI,CAACH,UAAU,EAAE;IACf,MAAM,IAAIG,KAAK,CAAC,2CAA2C,CAAC;EAC9D;EAEA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;EAE7B,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,gDAAgD,EAAE;IAC7EC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUX,UAAU;IACrC,CAAC;IACDY,IAAI,EAAER;EACR,CAAC,CAAC;EAEF,MAAMS,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;EAClC,IAAI,CAACP,QAAQ,CAACQ,EAAE,IAAI,EAACF,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEG,QAAQ,GAAE;IACnC,MAAM,IAAIb,KAAK,CAAC,CAAAU,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,KAAK,KAAI,qBAAqB,CAAC;EACvD;EAEA,OAAOJ,IAAI,CAACG,QAAQ;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}