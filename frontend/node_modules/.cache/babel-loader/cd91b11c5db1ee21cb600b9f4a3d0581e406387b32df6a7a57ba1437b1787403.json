{"ast":null,"code":"import{ensureContractCode,ensureCorrectNetwork,ensureWalletConnected,getBrowserProvider,getWriteContract}from\"./eth.js\";export default async function storeOnBlockchain(hash){if(!hash){throw new Error(\"Hash is required to store on-chain\");}try{const provider=await getBrowserProvider();await ensureWalletConnected(provider);await ensureCorrectNetwork(provider);await ensureContractCode(provider);const signer=await provider.getSigner();const contract=getWriteContract(signer);const tx=await contract.storeHash(hash);const receipt=await tx.wait();return{txHash:tx.hash,blockNumber:receipt===null||receipt===void 0?void 0:receipt.blockNumber};}catch(error){throw new Error((error===null||error===void 0?void 0:error.reason)||(error===null||error===void 0?void 0:error.message)||\"Failed to store hash on blockchain\");}}","map":{"version":3,"names":["ensureContractCode","ensureCorrectNetwork","ensureWalletConnected","getBrowserProvider","getWriteContract","storeOnBlockchain","hash","Error","provider","signer","getSigner","contract","tx","storeHash","receipt","wait","txHash","blockNumber","error","reason","message"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/contract/storeOnBlockchain.js"],"sourcesContent":["import {\n  ensureContractCode,\n  ensureCorrectNetwork,\n  ensureWalletConnected,\n  getBrowserProvider,\n  getWriteContract,\n} from \"./eth.js\";\n\nexport default async function storeOnBlockchain(hash) {\n  if (!hash) {\n    throw new Error(\"Hash is required to store on-chain\");\n  }\n\n  try {\n    const provider = await getBrowserProvider();\n    await ensureWalletConnected(provider);\n    await ensureCorrectNetwork(provider);\n    await ensureContractCode(provider);\n\n    const signer = await provider.getSigner();\n    const contract = getWriteContract(signer);\n    const tx = await contract.storeHash(hash);\n    const receipt = await tx.wait();\n\n    return { txHash: tx.hash, blockNumber: receipt?.blockNumber };\n  } catch (error) {\n    throw new Error(\n      error?.reason ||\n        error?.message ||\n        \"Failed to store hash on blockchain\"\n    );\n  }\n}\n"],"mappings":"AAAA,OACEA,kBAAkB,CAClBC,oBAAoB,CACpBC,qBAAqB,CACrBC,kBAAkB,CAClBC,gBAAgB,KACX,UAAU,CAEjB,cAAe,eAAe,CAAAC,iBAAiBA,CAACC,IAAI,CAAE,CACpD,GAAI,CAACA,IAAI,CAAE,CACT,KAAM,IAAI,CAAAC,KAAK,CAAC,oCAAoC,CAAC,CACvD,CAEA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,kBAAkB,CAAC,CAAC,CAC3C,KAAM,CAAAD,qBAAqB,CAACM,QAAQ,CAAC,CACrC,KAAM,CAAAP,oBAAoB,CAACO,QAAQ,CAAC,CACpC,KAAM,CAAAR,kBAAkB,CAACQ,QAAQ,CAAC,CAElC,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAD,QAAQ,CAACE,SAAS,CAAC,CAAC,CACzC,KAAM,CAAAC,QAAQ,CAAGP,gBAAgB,CAACK,MAAM,CAAC,CACzC,KAAM,CAAAG,EAAE,CAAG,KAAM,CAAAD,QAAQ,CAACE,SAAS,CAACP,IAAI,CAAC,CACzC,KAAM,CAAAQ,OAAO,CAAG,KAAM,CAAAF,EAAE,CAACG,IAAI,CAAC,CAAC,CAE/B,MAAO,CAAEC,MAAM,CAAEJ,EAAE,CAACN,IAAI,CAAEW,WAAW,CAAEH,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEG,WAAY,CAAC,CAC/D,CAAE,MAAOC,KAAK,CAAE,CACd,KAAM,IAAI,CAAAX,KAAK,CACb,CAAAW,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,MAAM,IACXD,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEE,OAAO,GACd,oCACJ,CAAC,CACH,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}