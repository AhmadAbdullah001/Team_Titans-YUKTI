{"ast":null,"code":"import { ensureContractCode, ensureCorrectNetwork, ensureWalletConnected, getBrowserProvider, getWriteContract } from \"./eth.js\";\nexport default async function storeOnBlockchain(hash) {\n  if (!hash) {\n    throw new Error(\"Hash is required to store on-chain\");\n  }\n  try {\n    const provider = await getBrowserProvider();\n    await ensureWalletConnected(provider);\n    await ensureCorrectNetwork(provider);\n    await ensureContractCode(provider);\n    const signer = await provider.getSigner();\n    const contract = getWriteContract(signer);\n    const tx = await contract.registerProperty(hash);\n    const receipt = await tx.wait();\n    return {\n      txHash: tx.hash,\n      blockNumber: receipt === null || receipt === void 0 ? void 0 : receipt.blockNumber\n    };\n  } catch (error) {\n    throw new Error((error === null || error === void 0 ? void 0 : error.reason) || (error === null || error === void 0 ? void 0 : error.message) || \"Failed to store hash on blockchain\");\n  }\n}","map":{"version":3,"names":["ensureContractCode","ensureCorrectNetwork","ensureWalletConnected","getBrowserProvider","getWriteContract","storeOnBlockchain","hash","Error","provider","signer","getSigner","contract","tx","registerProperty","receipt","wait","txHash","blockNumber","error","reason","message"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/contract/storeOnBlockchain.js"],"sourcesContent":["import {\n  ensureContractCode,\n  ensureCorrectNetwork,\n  ensureWalletConnected,\n  getBrowserProvider,\n  getWriteContract,\n} from \"./eth.js\";\n\nexport default async function storeOnBlockchain(hash) {\n  if (!hash) {\n    throw new Error(\"Hash is required to store on-chain\");\n  }\n\n  try {\n    const provider = await getBrowserProvider();\n    await ensureWalletConnected(provider);\n    await ensureCorrectNetwork(provider);\n    await ensureContractCode(provider);\n\n    const signer = await provider.getSigner();\n    const contract = getWriteContract(signer);\n    const tx = await contract.registerProperty(hash);\n    const receipt = await tx.wait();\n\n    return { txHash: tx.hash, blockNumber: receipt?.blockNumber };\n  } catch (error) {\n    throw new Error(\n      error?.reason ||\n        error?.message ||\n        \"Failed to store hash on blockchain\"\n    );\n  }\n}\n"],"mappings":"AAAA,SACEA,kBAAkB,EAClBC,oBAAoB,EACpBC,qBAAqB,EACrBC,kBAAkB,EAClBC,gBAAgB,QACX,UAAU;AAEjB,eAAe,eAAeC,iBAAiBA,CAACC,IAAI,EAAE;EACpD,IAAI,CAACA,IAAI,EAAE;IACT,MAAM,IAAIC,KAAK,CAAC,oCAAoC,CAAC;EACvD;EAEA,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,kBAAkB,CAAC,CAAC;IAC3C,MAAMD,qBAAqB,CAACM,QAAQ,CAAC;IACrC,MAAMP,oBAAoB,CAACO,QAAQ,CAAC;IACpC,MAAMR,kBAAkB,CAACQ,QAAQ,CAAC;IAElC,MAAMC,MAAM,GAAG,MAAMD,QAAQ,CAACE,SAAS,CAAC,CAAC;IACzC,MAAMC,QAAQ,GAAGP,gBAAgB,CAACK,MAAM,CAAC;IACzC,MAAMG,EAAE,GAAG,MAAMD,QAAQ,CAACE,gBAAgB,CAACP,IAAI,CAAC;IAChD,MAAMQ,OAAO,GAAG,MAAMF,EAAE,CAACG,IAAI,CAAC,CAAC;IAE/B,OAAO;MAAEC,MAAM,EAAEJ,EAAE,CAACN,IAAI;MAAEW,WAAW,EAAEH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG;IAAY,CAAC;EAC/D,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAM,IAAIX,KAAK,CACb,CAAAW,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEC,MAAM,MACXD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,OAAO,KACd,oCACJ,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}