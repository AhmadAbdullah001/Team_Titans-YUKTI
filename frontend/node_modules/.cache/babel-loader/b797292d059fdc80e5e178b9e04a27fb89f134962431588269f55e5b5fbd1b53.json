{"ast":null,"code":"import React,{useMemo,useRef,useState}from\"react\";import{CloudArrowUpIcon,DocumentIcon,CheckCircleIcon}from\"@heroicons/react/24/outline\";import storeOnBlockchain from\"../contract/storeOnBlockchain.js\";import{ensureContractCode,ensureCorrectNetwork,ensureWalletConnected,getBrowserProvider,getReadOnlyContract,getWriteContract}from\"../contract/eth.js\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){const role=useMemo(()=>localStorage.getItem(\"role\"),[]);const canUpload=role===\"citizen\"||role===\"registrar\";const canApprove=role===\"registrar\";const canVerify=role===\"citizen\"||role===\"registrar\"||role===\"bank\";const[file,setFile]=useState(null);const[uploading,setUploading]=useState(false);const[uploadStatus,setUploadStatus]=useState(\"\");const[hash,setHash]=useState(\"\");const[verifyInput,setVerifyInput]=useState(\"\");const[verificationMessage,setVerificationMessage]=useState(\"\");const[approving,setApproving]=useState(false);const fileInputRef=useRef(null);const resetStatus=()=>{setUploadStatus(\"\");setHash(\"\");setVerificationMessage(\"\");setVerifyInput(\"\");};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();};const handleDrop=e=>{e.preventDefault();e.stopPropagation();if(e.dataTransfer.files&&e.dataTransfer.files[0]){setFile(e.dataTransfer.files[0]);resetStatus();}};const handleFileSelect=e=>{if(e.target.files&&e.target.files[0]){setFile(e.target.files[0]);resetStatus();}};const verifyFromBlockchain=async value=>{const provider=await getBrowserProvider();await ensureWalletConnected(provider);await ensureCorrectNetwork(provider);await ensureContractCode(provider);const contract=getReadOnlyContract(provider);return contract.verifyHash(value);};const handleUpload=async()=>{if(!canUpload){alert(\"Only citizen and registrar can upload.\");return;}if(!file)return;try{setUploading(true);setUploadStatus(\"uploading\");setVerificationMessage(\"\");const formData=new FormData();formData.append(\"file\",file);const response=await fetch(\"http://localhost:5000/api/upload/handleupload\",{method:\"POST\",body:formData});if(!response.ok){throw new Error(\"File upload failed\");}const data=await response.json();if(!(data!==null&&data!==void 0&&data.result)){throw new Error(\"Upload response missing hash\");}setUploadStatus(\"hashing\");await storeOnBlockchain(data.result);setTimeout(()=>{setUploadStatus(\"done\");setHash(data.result);setVerifyInput(data.result);setUploading(false);},800);}catch(error){console.error(error);setUploading(false);setUploadStatus(\"\");alert((error===null||error===void 0?void 0:error.message)||\"Upload failed\");}};const handleVerify=async()=>{if(!canVerify){alert(\"You do not have permission to verify.\");return;}const value=verifyInput||hash;if(!value){alert(\"Enter or upload a hash first.\");return;}try{const result=await verifyFromBlockchain(value);setVerificationMessage(result?\"Verified on blockchain\":\"Not found on blockchain\");}catch(error){setVerificationMessage((error===null||error===void 0?void 0:error.message)||\"Blockchain verification failed\");}};const handleApprove=async()=>{if(!canApprove){alert(\"Only registrar can approve.\");return;}const value=verifyInput||hash;if(!value){alert(\"No hash available to approve.\");return;}try{setApproving(true);const provider=await getBrowserProvider();await ensureWalletConnected(provider);await ensureCorrectNetwork(provider);await ensureContractCode(provider);const signer=await provider.getSigner();const contract=getWriteContract(signer);const tx=await contract.approveProperty(value);await tx.wait();setVerificationMessage(\"Property hash approved by registrar\");}catch(error){setVerificationMessage((error===null||error===void 0?void 0:error.message)||\"Approval failed\");}finally{setApproving(false);}};const triggerFileInput=()=>{var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-100 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto w-full max-w-2xl rounded-xl bg-white p-8 shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-800\",children:\"Document Vault\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-sm text-slate-500\",children:[\"Logged in as \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold uppercase\",children:role||\"guest\"})]})]}),canUpload&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 cursor-pointer rounded-xl border-2 border-dashed p-8 text-center transition-colors \".concat(file?\"border-blue-500 bg-blue-50\":\"border-slate-300 hover:border-blue-400 hover:bg-slate-50\"),onDragOver:handleDragOver,onDrop:handleDrop,onClick:triggerFileInput,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",ref:fileInputRef,onChange:handleFileSelect}),!file?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(CloudArrowUpIcon,{className:\"mb-3 h-12 w-12 text-slate-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-slate-700\",children:\"Drag & Drop or Click to Upload\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(DocumentIcon,{className:\"mb-3 h-12 w-12 text-blue-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"max-w-full truncate font-medium text-slate-800\",children:file.name})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:!file||uploading,className:\"w-full rounded-xl bg-gradient-to-r px-4 py-3 font-semibold text-white shadow-xl transition \".concat(!file||uploading?\"cursor-not-allowed from-slate-400 to-slate-500\":\"from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500\"),children:uploading?\"Processing...\":\"Upload Document\"}),uploadStatus===\"done\"&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 rounded-xl border border-emerald-200 bg-emerald-50 p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"mt-0.5 h-5 w-5 text-emerald-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-emerald-800\",children:\"Upload Complete\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 break-all rounded bg-emerald-100 p-2 font-mono text-xs text-emerald-700\",children:hash})]})]})})]}),canVerify&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 rounded-xl border border-slate-200 bg-slate-50 p-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mb-2 block text-sm font-medium text-slate-700\",children:\"Hash to verify\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:verifyInput,onChange:e=>setVerifyInput(e.target.value.trim()),placeholder:\"Enter IPFS hash\",className:\"w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-800 outline-none focus:border-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex flex-col gap-2 sm:flex-row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVerify,className:\"w-full rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 px-4 py-2.5 text-sm font-semibold text-white shadow-xl hover:from-emerald-500 hover:to-teal-500\",children:\"Verify Document\"}),canApprove&&/*#__PURE__*/_jsx(\"button\",{onClick:handleApprove,disabled:approving,className:\"w-full rounded-xl bg-gradient-to-r px-4 py-2.5 text-sm font-semibold text-white shadow-xl \".concat(approving?\"cursor-not-allowed from-amber-400 to-orange-400\":\"from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500\"),children:approving?\"Approving...\":\"Approve Document\"})]}),verificationMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 rounded-lg bg-white p-2 text-sm text-slate-700\",children:verificationMessage})]})]})});}export default Home;","map":{"version":3,"names":["React","useMemo","useRef","useState","CloudArrowUpIcon","DocumentIcon","CheckCircleIcon","storeOnBlockchain","ensureContractCode","ensureCorrectNetwork","ensureWalletConnected","getBrowserProvider","getReadOnlyContract","getWriteContract","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","role","localStorage","getItem","canUpload","canApprove","canVerify","file","setFile","uploading","setUploading","uploadStatus","setUploadStatus","hash","setHash","verifyInput","setVerifyInput","verificationMessage","setVerificationMessage","approving","setApproving","fileInputRef","resetStatus","handleDragOver","e","preventDefault","stopPropagation","handleDrop","dataTransfer","files","handleFileSelect","target","verifyFromBlockchain","value","provider","contract","verifyHash","handleUpload","alert","formData","FormData","append","response","fetch","method","body","ok","Error","data","json","result","setTimeout","error","console","message","handleVerify","handleApprove","signer","getSigner","tx","approveProperty","wait","triggerFileInput","_fileInputRef$current","current","click","className","children","concat","onDragOver","onDrop","onClick","type","ref","onChange","name","disabled","trim","placeholder"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useMemo, useRef, useState } from \"react\";\nimport { CloudArrowUpIcon, DocumentIcon, CheckCircleIcon } from \"@heroicons/react/24/outline\";\nimport storeOnBlockchain from \"../contract/storeOnBlockchain.js\";\nimport {\n  ensureContractCode,\n  ensureCorrectNetwork,\n  ensureWalletConnected,\n  getBrowserProvider,\n  getReadOnlyContract,\n  getWriteContract,\n} from \"../contract/eth.js\";\n\nfunction Home() {\n  const role = useMemo(() => localStorage.getItem(\"role\"), []);\n  const canUpload = role === \"citizen\" || role === \"registrar\";\n  const canApprove = role === \"registrar\";\n  const canVerify = role === \"citizen\" || role === \"registrar\" || role === \"bank\";\n\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadStatus, setUploadStatus] = useState(\"\");\n  const [hash, setHash] = useState(\"\");\n  const [verifyInput, setVerifyInput] = useState(\"\");\n  const [verificationMessage, setVerificationMessage] = useState(\"\");\n  const [approving, setApproving] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const resetStatus = () => {\n    setUploadStatus(\"\");\n    setHash(\"\");\n    setVerificationMessage(\"\");\n    setVerifyInput(\"\");\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setFile(e.dataTransfer.files[0]);\n      resetStatus();\n    }\n  };\n\n  const handleFileSelect = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      setFile(e.target.files[0]);\n      resetStatus();\n    }\n  };\n\n  const verifyFromBlockchain = async (value) => {\n    const provider = await getBrowserProvider();\n    await ensureWalletConnected(provider);\n    await ensureCorrectNetwork(provider);\n    await ensureContractCode(provider);\n    const contract = getReadOnlyContract(provider);\n    return contract.verifyHash(value);\n  };\n\n  const handleUpload = async () => {\n    if (!canUpload) {\n      alert(\"Only citizen and registrar can upload.\");\n      return;\n    }\n    if (!file) return;\n\n    try {\n      setUploading(true);\n      setUploadStatus(\"uploading\");\n      setVerificationMessage(\"\");\n\n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      const response = await fetch(\"http://localhost:5000/api/upload/handleupload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(\"File upload failed\");\n      }\n\n      const data = await response.json();\n      if (!data?.result) {\n        throw new Error(\"Upload response missing hash\");\n      }\n\n      setUploadStatus(\"hashing\");\n      await storeOnBlockchain(data.result);\n\n      setTimeout(() => {\n        setUploadStatus(\"done\");\n        setHash(data.result);\n        setVerifyInput(data.result);\n        setUploading(false);\n      }, 800);\n    } catch (error) {\n      console.error(error);\n      setUploading(false);\n      setUploadStatus(\"\");\n      alert(error?.message || \"Upload failed\");\n    }\n  };\n\n  const handleVerify = async () => {\n    if (!canVerify) {\n      alert(\"You do not have permission to verify.\");\n      return;\n    }\n\n    const value = verifyInput || hash;\n    if (!value) {\n      alert(\"Enter or upload a hash first.\");\n      return;\n    }\n\n    try {\n      const result = await verifyFromBlockchain(value);\n      setVerificationMessage(result ? \"Verified on blockchain\" : \"Not found on blockchain\");\n    } catch (error) {\n      setVerificationMessage(error?.message || \"Blockchain verification failed\");\n    }\n  };\n\n  const handleApprove = async () => {\n    if (!canApprove) {\n      alert(\"Only registrar can approve.\");\n      return;\n    }\n    const value = verifyInput || hash;\n    if (!value) {\n      alert(\"No hash available to approve.\");\n      return;\n    }\n\n    try {\n      setApproving(true);\n      const provider = await getBrowserProvider();\n      await ensureWalletConnected(provider);\n      await ensureCorrectNetwork(provider);\n      await ensureContractCode(provider);\n      const signer = await provider.getSigner();\n      const contract = getWriteContract(signer);\n      const tx = await contract.approveProperty(value);\n      await tx.wait();\n      setVerificationMessage(\"Property hash approved by registrar\");\n    } catch (error) {\n      setVerificationMessage(error?.message || \"Approval failed\");\n    } finally {\n      setApproving(false);\n    }\n  };\n\n  const triggerFileInput = () => {\n    fileInputRef.current?.click();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-100 p-4\">\n      <div className=\"mx-auto w-full max-w-2xl rounded-xl bg-white p-8 shadow-xl\">\n        <div className=\"mb-6 text-center\">\n          <h1 className=\"text-3xl font-bold text-slate-800\">Document Vault</h1>\n          <p className=\"mt-2 text-sm text-slate-500\">\n            Logged in as <span className=\"font-semibold uppercase\">{role || \"guest\"}</span>\n          </p>\n        </div>\n\n        {canUpload && (\n          <>\n            <div\n              className={`mb-6 cursor-pointer rounded-xl border-2 border-dashed p-8 text-center transition-colors ${\n                file ? \"border-blue-500 bg-blue-50\" : \"border-slate-300 hover:border-blue-400 hover:bg-slate-50\"\n              }`}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n              onClick={triggerFileInput}\n            >\n              <input type=\"file\" className=\"hidden\" ref={fileInputRef} onChange={handleFileSelect} />\n\n              {!file ? (\n                <div className=\"flex flex-col items-center\">\n                  <CloudArrowUpIcon className=\"mb-3 h-12 w-12 text-slate-400\" />\n                  <p className=\"font-medium text-slate-700\">Drag & Drop or Click to Upload</p>\n                </div>\n              ) : (\n                <div className=\"flex flex-col items-center\">\n                  <DocumentIcon className=\"mb-3 h-12 w-12 text-blue-500\" />\n                  <p className=\"max-w-full truncate font-medium text-slate-800\">{file.name}</p>\n                </div>\n              )}\n            </div>\n\n            <button\n              onClick={handleUpload}\n              disabled={!file || uploading}\n              className={`w-full rounded-xl bg-gradient-to-r px-4 py-3 font-semibold text-white shadow-xl transition ${\n                !file || uploading\n                  ? \"cursor-not-allowed from-slate-400 to-slate-500\"\n                  : \"from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500\"\n              }`}\n            >\n              {uploading ? \"Processing...\" : \"Upload Document\"}\n            </button>\n\n            {uploadStatus === \"done\" && (\n              <div className=\"mt-4 rounded-xl border border-emerald-200 bg-emerald-50 p-3\">\n                <div className=\"flex items-start gap-2\">\n                  <CheckCircleIcon className=\"mt-0.5 h-5 w-5 text-emerald-600\" />\n                  <div className=\"w-full\">\n                    <p className=\"text-sm font-medium text-emerald-800\">Upload Complete</p>\n                    <p className=\"mt-1 break-all rounded bg-emerald-100 p-2 font-mono text-xs text-emerald-700\">\n                      {hash}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n\n        {canVerify && (\n          <div className=\"mt-6 rounded-xl border border-slate-200 bg-slate-50 p-4\">\n            <label className=\"mb-2 block text-sm font-medium text-slate-700\">Hash to verify</label>\n            <input\n              type=\"text\"\n              value={verifyInput}\n              onChange={(e) => setVerifyInput(e.target.value.trim())}\n              placeholder=\"Enter IPFS hash\"\n              className=\"w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-800 outline-none focus:border-blue-500\"\n            />\n            <div className=\"mt-3 flex flex-col gap-2 sm:flex-row\">\n              <button\n                onClick={handleVerify}\n                className=\"w-full rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 px-4 py-2.5 text-sm font-semibold text-white shadow-xl hover:from-emerald-500 hover:to-teal-500\"\n              >\n                Verify Document\n              </button>\n              {canApprove && (\n                <button\n                  onClick={handleApprove}\n                  disabled={approving}\n                  className={`w-full rounded-xl bg-gradient-to-r px-4 py-2.5 text-sm font-semibold text-white shadow-xl ${\n                    approving\n                      ? \"cursor-not-allowed from-amber-400 to-orange-400\"\n                      : \"from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500\"\n                  }`}\n                >\n                  {approving ? \"Approving...\" : \"Approve Document\"}\n                </button>\n              )}\n            </div>\n            {verificationMessage && (\n              <p className=\"mt-3 rounded-lg bg-white p-2 text-sm text-slate-700\">{verificationMessage}</p>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}