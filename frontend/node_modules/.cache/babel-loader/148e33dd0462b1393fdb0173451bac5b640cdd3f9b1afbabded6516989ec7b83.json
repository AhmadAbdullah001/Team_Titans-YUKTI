{"ast":null,"code":"import{PINATA_JWT}from\"./config.js\";export async function uploadDocumentToIPFS(file){if(!file){throw new Error(\"File is required.\");}if(!PINATA_JWT){throw new Error(\"Set REACT_APP_PINATA_JWT in frontend/.env\");}const formData=new FormData();formData.append(\"file\",file);const response=await fetch(\"https://api.pinata.cloud/pinning/pinFileToIPFS\",{method:\"POST\",headers:{Authorization:\"Bearer \".concat(PINATA_JWT)},body:formData});const data=await response.json();if(!response.ok||!(data!==null&&data!==void 0&&data.IpfsHash)){throw new Error((data===null||data===void 0?void 0:data.error)||\"IPFS upload failed.\");}return data.IpfsHash;}","map":{"version":3,"names":["PINATA_JWT","uploadDocumentToIPFS","file","Error","formData","FormData","append","response","fetch","method","headers","Authorization","concat","body","data","json","ok","IpfsHash","error"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/utils/ipfs.js"],"sourcesContent":["import { PINATA_JWT } from \"./config.js\";\n\nexport async function uploadDocumentToIPFS(file) {\n  if (!file) {\n    throw new Error(\"File is required.\");\n  }\n  if (!PINATA_JWT) {\n    throw new Error(\"Set REACT_APP_PINATA_JWT in frontend/.env\");\n  }\n\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  const response = await fetch(\"https://api.pinata.cloud/pinning/pinFileToIPFS\", {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${PINATA_JWT}`,\n    },\n    body: formData,\n  });\n\n  const data = await response.json();\n  if (!response.ok || !data?.IpfsHash) {\n    throw new Error(data?.error || \"IPFS upload failed.\");\n  }\n\n  return data.IpfsHash;\n}\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,aAAa,CAExC,MAAO,eAAe,CAAAC,oBAAoBA,CAACC,IAAI,CAAE,CAC/C,GAAI,CAACA,IAAI,CAAE,CACT,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CACtC,CACA,GAAI,CAACH,UAAU,CAAE,CACf,KAAM,IAAI,CAAAG,KAAK,CAAC,2CAA2C,CAAC,CAC9D,CAEA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEJ,IAAI,CAAC,CAE7B,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,gDAAgD,CAAE,CAC7EC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYZ,UAAU,CACrC,CAAC,CACDa,IAAI,CAAET,QACR,CAAC,CAAC,CAEF,KAAM,CAAAU,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAI,CAACR,QAAQ,CAACS,EAAE,EAAI,EAACF,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEG,QAAQ,EAAE,CACnC,KAAM,IAAI,CAAAd,KAAK,CAAC,CAAAW,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,KAAK,GAAI,qBAAqB,CAAC,CACvD,CAEA,MAAO,CAAAJ,IAAI,CAACG,QAAQ,CACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}