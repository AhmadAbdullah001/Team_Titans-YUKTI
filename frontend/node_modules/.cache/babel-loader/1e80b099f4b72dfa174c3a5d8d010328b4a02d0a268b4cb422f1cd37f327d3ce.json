{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ahmad\\\\OneDrive\\\\Desktop\\\\evault\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useNavigate } from \"react\";\nimport { Navigate, Route, Routes } from \"react-router-dom\";\nimport Home from \"./components/Home.jsx\";\nimport FilesPage from \"./components/FilesPage.js\";\nimport Login from \"./pages/Login.jsx\";\nimport Signup from \"./pages/Signup.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getStoredUser() {\n  const raw = localStorage.getItem(\"user\");\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return null;\n  }\n}\nconst nav = useNavigate();\nfunction ProtectedRoute({\n  children\n}) {\n  const role = localStorage.getItem(\"role\");\n  if (!role) nav('/login');\n  return children;\n}\n_c = ProtectedRoute;\nfunction PublicOnlyRoute({\n  children\n}) {\n  const role = localStorage.getItem(\"role\");\n  if (role) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/home\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 20\n  }, this);\n  return children;\n}\n_c2 = PublicOnlyRoute;\nfunction HomeLayout() {\n  _s();\n  const navigate = useNavigate();\n  const [activePage, setActivePage] = useState(\"upload\");\n  const user = useMemo(() => getStoredUser(), []);\n  const logout = () => {\n    localStorage.removeItem(\"role\");\n    localStorage.removeItem(\"user\");\n    navigate(\"/login\", {\n      replace: true\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto flex max-w-6xl flex-col gap-3 px-4 pt-6 sm:flex-row sm:items-center sm:justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-slate-800\",\n          children: \"eVault\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-slate-500\",\n          children: [(user === null || user === void 0 ? void 0 : user.name) || \"User\", \" (\", localStorage.getItem(\"role\") || \"guest\", \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 rounded-xl bg-white p-1 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActivePage(\"upload\"),\n          className: `rounded-lg px-4 py-2 text-sm font-medium transition-colors ${activePage === \"upload\" ? \"bg-blue-600 text-white\" : \"text-slate-600 hover:bg-slate-100\"}`,\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActivePage(\"files\"),\n          className: `rounded-lg px-4 py-2 text-sm font-medium transition-colors ${activePage === \"files\" ? \"bg-blue-600 text-white\" : \"text-slate-600 hover:bg-slate-100\"}`,\n          children: \"All Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          className: \"rounded-lg bg-rose-600 px-4 py-2 text-sm font-medium text-white hover:bg-rose-700\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-2\",\n      children: activePage === \"upload\" ? /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 56\n      }, this) : /*#__PURE__*/_jsxDEV(FilesPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 67\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeLayout, \"mfY1ZGqf4tNVuSjRpD85Pf5EKDA=\", false, function () {\n  return [useNavigate];\n});\n_c3 = HomeLayout;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(PublicOnlyRoute, {\n        children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/signup\",\n      element: /*#__PURE__*/_jsxDEV(PublicOnlyRoute, {\n        children: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/home\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        children: /*#__PURE__*/_jsxDEV(HomeLayout, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"*\",\n      element: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/home\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"PublicOnlyRoute\");\n$RefreshReg$(_c3, \"HomeLayout\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useMemo","useState","useNavigate","Navigate","Route","Routes","Home","FilesPage","Login","Signup","jsxDEV","_jsxDEV","getStoredUser","raw","localStorage","getItem","JSON","parse","nav","ProtectedRoute","children","role","_c","PublicOnlyRoute","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","_c2","HomeLayout","_s","navigate","activePage","setActivePage","user","logout","removeItem","className","name","onClick","_c3","App","path","element","_c4","$RefreshReg$"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/App.js"],"sourcesContent":["import React, { useMemo, useState ,useNavigate} from \"react\";\nimport { Navigate, Route, Routes,  } from \"react-router-dom\";\nimport Home from \"./components/Home.jsx\";\nimport FilesPage from \"./components/FilesPage.js\";\nimport Login from \"./pages/Login.jsx\";\nimport Signup from \"./pages/Signup.jsx\";\n\nfunction getStoredUser() {\n  const raw = localStorage.getItem(\"user\");\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return null;\n  }\n}\nconst nav=useNavigate();\n\nfunction ProtectedRoute({ children }) {\n  const role = localStorage.getItem(\"role\");\n  if (!role) nav('/login');\n  return children;\n}\n\nfunction PublicOnlyRoute({ children }) {\n  const role = localStorage.getItem(\"role\");\n  if (role) return <Navigate to=\"/home\" replace />;\n  return children;\n}\n\nfunction HomeLayout() {\n  const navigate = useNavigate();\n  const [activePage, setActivePage] = useState(\"upload\");\n  const user = useMemo(() => getStoredUser(), []);\n\n  const logout = () => {\n    localStorage.removeItem(\"role\");\n    localStorage.removeItem(\"user\");\n    navigate(\"/login\", { replace: true });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-100\">\n      <div className=\"mx-auto flex max-w-6xl flex-col gap-3 px-4 pt-6 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-slate-800\">eVault</h1>\n          <p className=\"text-sm text-slate-500\">\n            {user?.name || \"User\"} ({localStorage.getItem(\"role\") || \"guest\"})\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2 rounded-xl bg-white p-1 shadow-sm\">\n          <button\n            onClick={() => setActivePage(\"upload\")}\n            className={`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${\n              activePage === \"upload\"\n                ? \"bg-blue-600 text-white\"\n                : \"text-slate-600 hover:bg-slate-100\"\n            }`}\n          >\n            Home\n          </button>\n          <button\n            onClick={() => setActivePage(\"files\")}\n            className={`rounded-lg px-4 py-2 text-sm font-medium transition-colors ${\n              activePage === \"files\"\n                ? \"bg-blue-600 text-white\"\n                : \"text-slate-600 hover:bg-slate-100\"\n            }`}\n          >\n            All Files\n          </button>\n          <button\n            onClick={logout}\n            className=\"rounded-lg bg-rose-600 px-4 py-2 text-sm font-medium text-white hover:bg-rose-700\"\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      <div className=\"pt-2\">{activePage === \"upload\" ? <Home /> : <FilesPage />}</div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Routes>\n      <Route\n        path=\"/login\"\n        element={\n          <PublicOnlyRoute>\n            <Login />\n          </PublicOnlyRoute>\n        }\n      />\n      <Route\n        path=\"/signup\"\n        element={\n          <PublicOnlyRoute>\n            <Signup />\n          </PublicOnlyRoute>\n        }\n      />\n      <Route\n        path=\"/home\"\n        element={\n          <ProtectedRoute>\n            <HomeLayout />\n          </ProtectedRoute>\n        }\n      />\n      <Route path=\"*\" element={<Navigate to=\"/home\" replace />} />\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}