{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPanel(_ref){let{walletInfo,grantAddress,setGrantAddress,grantRegistrar,revokeRegistrar,granting,revoking,loadingRegistrars,registrarUsers,setActionMessage,adminAddress}=_ref;if(!(walletInfo!==null&&walletInfo!==void 0&&walletInfo.isAdmin)){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 sm:flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:grantAddress,onChange:e=>setGrantAddress(e.target.value),placeholder:\"Registrar wallet address\",className:\"w-full rounded-lg border border-slate-300 px-3 py-1.5 text-xs outline-none focus:border-indigo-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>grantRegistrar(),disabled:granting,className:\"rounded-lg px-3 py-1.5 text-xs font-semibold text-white \".concat(granting?\"cursor-not-allowed bg-slate-400\":\"bg-indigo-600 hover:bg-indigo-700\"),children:granting?\"Granting...\":\"Grant Registrar Role\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg border border-slate-200 bg-white p-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 text-[11px] font-semibold uppercase text-slate-600\",children:\"Registrar Wallet Status\"}),loadingRegistrars?/*#__PURE__*/_jsx(\"p\",{className:\"text-[11px] text-slate-500\",children:\"Loading registrar users...\"}):registrarUsers.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-[11px] text-slate-500\",children:\"No registrar users found in MongoDB.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:registrarUsers.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 rounded-md border border-slate-200 p-2 sm:flex-row sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-slate-800\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-[11px] text-slate-600\",children:[\"Employee ID: \",item.employeeId||\"-\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"break-all font-mono text-[11px] text-slate-600\",children:item.walletAddress||\"No wallet saved\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-[11px] text-slate-700\",children:[\"Registrar: \",item.isRegistrarOnChain?\"Yes\":\"No\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!item.walletAddress){setActionMessage(\"Registrar wallet address missing in MongoDB.\");return;}grantRegistrar(item.walletAddress);},disabled:granting||!item.walletAddress||item.isRegistrarOnChain,className:\"rounded-lg px-3 py-1.5 text-xs font-semibold text-white \".concat(granting||!item.walletAddress||item.isRegistrarOnChain?\"cursor-not-allowed bg-slate-400\":\"bg-indigo-600 hover:bg-indigo-700\"),children:item.isRegistrarOnChain?\"On-Chain Added\":\"Grant Registrar Role\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!item.walletAddress){setActionMessage(\"Registrar wallet address missing in MongoDB.\");return;}revokeRegistrar(item.walletAddress);},disabled:revoking||!item.walletAddress||!item.isRegistrarOnChain||String(item.walletAddress).toLowerCase()===String(adminAddress||\"\").toLowerCase(),className:\"rounded-lg px-3 py-1.5 text-xs font-semibold text-white \".concat(revoking||!item.walletAddress||!item.isRegistrarOnChain||String(item.walletAddress).toLowerCase()===String(adminAddress||\"\").toLowerCase()?\"cursor-not-allowed bg-slate-400\":\"bg-rose-600 hover:bg-rose-700\"),children:revoking?\"Revoking...\":\"Revoke Registrar Role\"})]})]},item.id))})]})]});}export default AdminPanel;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","AdminPanel","_ref","walletInfo","grantAddress","setGrantAddress","grantRegistrar","revokeRegistrar","granting","revoking","loadingRegistrars","registrarUsers","setActionMessage","adminAddress","isAdmin","className","children","type","value","onChange","e","target","placeholder","onClick","disabled","concat","length","map","item","name","employeeId","walletAddress","isRegistrarOnChain","String","toLowerCase","id"],"sources":["C:/Users/ahmad/OneDrive/Desktop/evault/frontend/src/components/AdminPanel.js"],"sourcesContent":["import React from \"react\";\n\nfunction AdminPanel({\n  walletInfo,\n  grantAddress,\n  setGrantAddress,\n  grantRegistrar,\n  revokeRegistrar,\n  granting,\n  revoking,\n  loadingRegistrars,\n  registrarUsers,\n  setActionMessage,\n  adminAddress,\n}) {\n  if (!walletInfo?.isAdmin) {\n    return null;\n  }\n\n  return (\n    <div className=\"mt-3 space-y-3\">\n      <div className=\"flex flex-col gap-2 sm:flex-row\">\n        <input\n          type=\"text\"\n          value={grantAddress}\n          onChange={(e) => setGrantAddress(e.target.value)}\n          placeholder=\"Registrar wallet address\"\n          className=\"w-full rounded-lg border border-slate-300 px-3 py-1.5 text-xs outline-none focus:border-indigo-500\"\n        />\n        <button\n          onClick={() => grantRegistrar()}\n          disabled={granting}\n          className={`rounded-lg px-3 py-1.5 text-xs font-semibold text-white ${\n            granting ? \"cursor-not-allowed bg-slate-400\" : \"bg-indigo-600 hover:bg-indigo-700\"\n          }`}\n        >\n          {granting ? \"Granting...\" : \"Grant Registrar Role\"}\n        </button>\n      </div>\n\n      <div className=\"rounded-lg border border-slate-200 bg-white p-2\">\n        <p className=\"mb-2 text-[11px] font-semibold uppercase text-slate-600\">\n          Registrar Wallet Status\n        </p>\n        {loadingRegistrars ? (\n          <p className=\"text-[11px] text-slate-500\">Loading registrar users...</p>\n        ) : registrarUsers.length === 0 ? (\n          <p className=\"text-[11px] text-slate-500\">No registrar users found in MongoDB.</p>\n        ) : (\n          <div className=\"space-y-2\">\n            {registrarUsers.map((item) => (\n              <div\n                key={item.id}\n                className=\"flex flex-col gap-2 rounded-md border border-slate-200 p-2 sm:flex-row sm:items-center sm:justify-between\"\n              >\n                <div>\n                  <p className=\"text-xs font-medium text-slate-800\">{item.name}</p>\n                  <p className=\"text-[11px] text-slate-600\">Employee ID: {item.employeeId || \"-\"}</p>\n                  <p className=\"break-all font-mono text-[11px] text-slate-600\">\n                    {item.walletAddress || \"No wallet saved\"}\n                  </p>\n                  <p className=\"text-[11px] text-slate-700\">\n                    Registrar: {item.isRegistrarOnChain ? \"Yes\" : \"No\"}\n                  </p>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => {\n                      if (!item.walletAddress) {\n                        setActionMessage(\"Registrar wallet address missing in MongoDB.\");\n                        return;\n                      }\n                      grantRegistrar(item.walletAddress);\n                    }}\n                    disabled={granting || !item.walletAddress || item.isRegistrarOnChain}\n                    className={`rounded-lg px-3 py-1.5 text-xs font-semibold text-white ${\n                      granting || !item.walletAddress || item.isRegistrarOnChain\n                        ? \"cursor-not-allowed bg-slate-400\"\n                        : \"bg-indigo-600 hover:bg-indigo-700\"\n                    }`}\n                  >\n                    {item.isRegistrarOnChain ? \"On-Chain Added\" : \"Grant Registrar Role\"}\n                  </button>\n                  <button\n                    onClick={() => {\n                      if (!item.walletAddress) {\n                        setActionMessage(\"Registrar wallet address missing in MongoDB.\");\n                        return;\n                      }\n                      revokeRegistrar(item.walletAddress);\n                    }}\n                    disabled={\n                      revoking ||\n                      !item.walletAddress ||\n                      !item.isRegistrarOnChain ||\n                      String(item.walletAddress).toLowerCase() === String(adminAddress || \"\").toLowerCase()\n                    }\n                    className={`rounded-lg px-3 py-1.5 text-xs font-semibold text-white ${\n                      revoking ||\n                      !item.walletAddress ||\n                      !item.isRegistrarOnChain ||\n                      String(item.walletAddress).toLowerCase() === String(adminAddress || \"\").toLowerCase()\n                        ? \"cursor-not-allowed bg-slate-400\"\n                        : \"bg-rose-600 hover:bg-rose-700\"\n                    }`}\n                  >\n                    {revoking ? \"Revoking...\" : \"Revoke Registrar Role\"}\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AdminPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}